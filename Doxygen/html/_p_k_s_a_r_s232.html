<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>EthKitTCP: Loading new firmware on the PICKit Serial Analyzer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EthKitTCP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_p_k_s_a_r_s232.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Loading new firmware on the PICKit Serial Analyzer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Intro"></a>
Introduction</h1>
<p>The PICKit Serial Analyzer (PKSA) is an easy way to connect the UART of your PIC&reg; microcontroller to your PC. All of the required steps are handled by the PICKit Serial Loader Utility provided with the framework in the 'Utilities' folder of the demos.</p>
<p><code>Your MLA Directory/mTouchCapDemos/Utilities/PIC12F PIC16F Utilities/PICKit Serial Loader</code></p>
<p>There are two different ways the PKSA can be used: </p><ul>
<li><b>UART-to-USB converter</b> :: UART_USB_PICKitSerial_V1.40.hex :: PKSA behaves as a COM port when connected to the PC. </li>
<li><b>Default PKSA Behavior</b> :: PKS-0307-WITHBOOT-0103.HEX :: PKSA behaves as an HID device that is manipulated through a DLL.</li>
</ul>
<p>An update to the default PKSA hex file is provided to add support for the RS-232 'break' character. This is required for communicating with the mTouch two-way GUI.</p>
<h1><a class="anchor" id="Convert"></a>
Changing the PICKit Serial Analyzer's Hex File</h1>
<ol>
<li>
Press the button on the PICKit Serial Analyzer when connecting to PC's USB to enter <code>Bootloader Mode</code>.<br />
 (The 'Target' and 'Busy' LEDs should be flashing quickly.) </li>
<li>
Open the PICKit Serial Loader Utility provided by the framework in the Utilities folder of the demos. </li>
<li>
Follow the on-screen instructions to load the new hex file. Hex files and drivers are provided in the same folder as the loader utility. Make sure to select correct hex file depending on the desired behavior (UART-to-USB COM port / Updated Default PKSA). </li>
</ol>
<h1><a class="anchor" id="Use"></a>
Using your PICKit Serial as a UART-to-USB Converter</h1>
<ol>
<li>
Unplug and replug the PKSA. Press and hold the black PKSA button to toggle the on-board 5V power supply. <ul>
<li>
Warning: There is no protection provided on this power supply. Maximum current is 20mA. </li>
</ul>
</li>
<li>
LED Status Legend: <ul>
<li>
Target LED On: Transmission in progress </li>
<li>
Busy LED On: Reception was successful </li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="UseNormal"></a>
Using your PICKit Serial with the default PKSA firmware</h1>
<ol>
<li>
Power your mTouch board and connect the PKSA. </li>
<li>
Open the mTouch Two-Way GUI. The program will begin communicating or will provide error messages with suggestions for resolve any issues. </li>
</ol>
<div class="image">
<img src="pksaExtVdd.JPG" alt="pksaExtVdd.JPG"/>
<div class="caption">
Example schematic connecting the PKSA with an external power supply</div></div>
<div class="image">
<img src="pksaVdd.JPG" alt="pksaVdd.JPG"/>
<div class="caption">
Example schematic of PKSA supplying power to the board</div></div>
<div class="image">
<img src="pksaExt5Vdd.JPG" alt="pksaExt5Vdd.JPG"/>
<div class="caption">
Example schematic of connecting PKSA with an external 5V power supply. Notice - no VDD connection required.</div></div>
<p> <b>Maximum Speed</b>: 115.2 kbps<br />
 <b>Voltage Level</b>: Depends on the voltage applied to pin #2. Valid range is from 3-5V.<br />
 Optional 5V (&lt;20mA) power supply from the PICKit Serial Analyzer.<br />
</p>
<h1><a class="anchor" id="Pinout"></a>
PICKit Serial Analyzer Pin Configuration</h1>
<ol>
<li>
The PC's TX line. The PIC's RX line. (Marked with an arrow) </li>
<li>
V<sub>DD</sub> : 3-5V </li>
<li>
V<sub>SS</sub> </li>
<li>
Aux1 : not used in RS232 configuration </li>
<li>
Aux2 : not used in RS232 configuration </li>
<li>
The PC's RX line. The PIC's TX line. </li>
</ol>
<div class="image">
<img src="pksaPins.JPG" alt="pksaPins.JPG"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="_getting_started.html">Getting Started</a></li>
    <li class="footer">Generated on Thu May 7 2015 20:33:58 for EthKitTCP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
